(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-20908211"],{"486f":function(e,t,a){"use strict";a("dd0b")},"48b7":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wechat-setting"},[a("el-tabs",{attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"账号设置"}},[a("finance-setting")],1)],1)],1)},s=[],n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{},[a("el-form",{ref:"form",attrs:{model:e.form,"label-position":"left","label-width":"100px"}},[a("div",{staticClass:"form-content-item"},[a("div",{staticClass:"block-title"},[a("card-tag",{attrs:{"tag-name":"基本信息"}})],1),e._v(" "),a("div",{staticClass:"block-content"},[a("el-form-item",{attrs:{label:"设计师姓名"}},[a("el-input",{staticStyle:{width:"50%"},attrs:{clearable:"",size:"small"},model:{value:e.form.designer_name,callback:function(t){e.$set(e.form,"designer_name",t)},expression:"form.designer_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号(账号)"}},[a("el-input",{staticStyle:{width:"50%"},attrs:{disabled:"",clearable:"",size:"small"},model:{value:e.form.designer_phone,callback:function(t){e.$set(e.form,"designer_phone",t)},expression:"form.designer_phone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"设计师头像"}},[a("el-upload",{staticClass:"uploader",attrs:{action:e.baseUrl+"/design/uploadImg",name:"image",data:{type:"design"},headers:{design_sign:e.token},"file-list":e.fileList,"with-credentials":!0,"show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.imageUrl?a("img",{staticClass:"logo",attrs:{src:e.imageUrl}}):a("i",{staticClass:"el-icon-plus uploader-icon"})])],1),e._v(" "),a("el-form-item",{attrs:{label:"性别"}},[a("el-radio-group",{model:{value:e.form.sex,callback:function(t){e.$set(e.form,"sex",t)},expression:"form.sex"}},[a("el-radio",{attrs:{label:1}},[e._v("男")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("女")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"出生日期"}},[a("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:e.form.birthday,callback:function(t){e.$set(e.form,"birthday",t)},expression:"form.birthday"}})],1)],1)]),e._v(" "),a("div",{staticClass:"form-content-item"},[a("div",{staticClass:"block-title"},[a("card-tag",{attrs:{"tag-name":"收款账号配置"}})],1),e._v(" "),a("div",{staticClass:"block-content"},[a("el-form-item",{attrs:{label:"银行账号"}},[a("el-input",{staticStyle:{width:"50%"},attrs:{clearable:"",size:"small"},model:{value:e.form.bank_card_number,callback:function(t){e.$set(e.form,"bank_card_number",t)},expression:"form.bank_card_number"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"微信号"}},[a("el-input",{staticStyle:{width:"50%"},attrs:{clearable:"",size:"small"},model:{value:e.form.wechat,callback:function(t){e.$set(e.form,"wechat",t)},expression:"form.wechat"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"支付宝账号"}},[a("el-input",{staticStyle:{width:"50%"},attrs:{clearable:"",size:"small"},model:{value:e.form.alipay,callback:function(t){e.$set(e.form,"alipay",t)},expression:"form.alipay"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.submitForm("form")}}},[e._v("保存")])],1)],1)])])],1)},i=[],o=(a("8e6e"),a("ac6a"),a("456d"),a("ade3")),l=a("b775"),c={saveInfo:function(e){return Object(l["a"])({url:"/user/saveInfo",method:"post",data:e})}},f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"card-tag"},[a("div",{staticClass:"tag-content",style:"background:"+e.backColor+";color:"+e.color+";border-radius:"+e.raidus+";display: "+(e.block?"block":"inline-block")},[e.iconName?a("svg-icon",{attrs:{"icon-class":e.iconName}}):e._e(),e._v(" "),a("span",[e._v(e._s(e.tagName))])],1)])},m=[],u=a("c00a"),d={name:"CardTag",components:{SvgIcon:u["a"]},props:{iconName:{type:String,default:""},tagName:{type:String,default:""},backColor:{type:String,default:"#ebebeb"},color:{type:String,default:"#31708f"},raidus:{type:String,default:""},block:{type:Boolean,default:!0}}},b=d,p=(a("e912"),a("2877")),h=Object(p["a"])(b,f,m,!1,null,"342da892",null),g=h.exports,v=a("5f87"),_=a("2f62"),y=a("4360");function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function w(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(Object(a),!0).forEach((function(t){Object(o["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var O={name:"",components:{CardTag:g},data:function(){return{baseUrl:"http://212.129.244.20:3000",token:Object(v["a"])(),imageUrl:"",fileList:[{name:"cert",url:""}],form:{avatar_url:"",designer_name:"",birthday:"",designer_phone:"",sex:"",bank_card_number:"",wechat:"",alipay:""}}},computed:w({},Object(_["b"])(["userInfo"])),created:function(){this.form.avatar_url=this.userInfo.avatar_url,this.imageUrl=this.userInfo.avatar_url,this.form.designer_name=this.userInfo.designer_name,this.form.designer_phone=this.userInfo.designer_phone,this.form.birthday=this.userInfo.birthday,this.form.sex=this.userInfo.sex,this.form.bank_card_number=this.userInfo.bank_card_number,this.form.wechat=this.userInfo.wechat,this.form.alipay=this.userInfo.alipay},methods:{getConfig:function(){var e=this;c.getShopConfig().then((function(t){e.form=t.data}))},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;c.saveInfo(t.form).then((function(e){t.$message({type:"success",message:e.msg||"保存成功!"}),y["a"].dispatch("user/getInfo").then((function(e){t.$store.commit("user/SET_USERINFO",e)}))}))}))},handleAvatarSuccess:function(e,t){this.imageUrl=URL.createObjectURL(t.raw),this.form.avatar_url=e.data},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type||"image/png"===e.type,a=e.size/1024/1024<2;return t||this.$message.error("上传图片只能是 JPG/PNG 格式!"),a||this.$message.error("上传图片大小不能超过 2MB!"),t&&a},onClick:function(e,t){console.log("Element clicked")}}},j=O,C=Object(p["a"])(j,n,i,!1,null,"8829be6a",null),S=C.exports,x={components:{FinanceSetting:S},data:function(){return{}}},I=x,$=(a("486f"),Object(p["a"])(I,r,s,!1,null,null,null));t["default"]=$.exports},"787e":function(e,t,a){},dd0b:function(e,t,a){},e912:function(e,t,a){"use strict";a("787e")}}]);