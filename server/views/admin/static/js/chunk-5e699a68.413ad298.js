(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5e699a68"],{"02f4":function(e,t,r){var n=r("4588"),a=r("be13");e.exports=function(e){return function(t,r){var i,o,l=String(a(t)),s=n(r),c=l.length;return s<0||s>=c?e?"":void 0:(i=l.charCodeAt(s),i<55296||i>56319||s+1===c||(o=l.charCodeAt(s+1))<56320||o>57343?e?l.charAt(s):i:e?l.slice(s,s+2):o-56320+(i-55296<<10)+65536)}}},"0390":function(e,t,r){"use strict";var n=r("02f4")(!0);e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},"0bfb":function(e,t,r){"use strict";var n=r("cb7c");e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},"1fad":function(e,t,r){"use strict";r("3b87")},"214f":function(e,t,r){"use strict";r("b0c5");var n=r("2aba"),a=r("32e9"),i=r("79e5"),o=r("be13"),l=r("2b4c"),s=r("520a"),c=l("species"),u=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),f=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2===r.length&&"a"===r[0]&&"b"===r[1]}();e.exports=function(e,t,r){var d=l(e),p=!i((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),g=p?!i((function(){var t=!1,r=/a/;return r.exec=function(){return t=!0,null},"split"===e&&(r.constructor={},r.constructor[c]=function(){return r}),r[d](""),!t})):void 0;if(!p||!g||"replace"===e&&!u||"split"===e&&!f){var h=/./[d],m=r(o,d,""[e],(function(e,t,r,n,a){return t.exec===s?p&&!a?{done:!0,value:h.call(t,r,n)}:{done:!0,value:e.call(r,t,n)}:{done:!1}})),v=m[0],b=m[1];n(String.prototype,e,v),a(RegExp.prototype,d,2==t?function(e,t){return b.call(e,this,t)}:function(e){return b.call(e,this)})}}},"28a5":function(e,t,r){"use strict";var n=r("aae3"),a=r("cb7c"),i=r("ebd6"),o=r("0390"),l=r("9def"),s=r("5f1b"),c=r("520a"),u=r("79e5"),f=Math.min,d=[].push,p="split",g="length",h="lastIndex",m=4294967295,v=!u((function(){RegExp(m,"y")}));r("214f")("split",2,(function(e,t,r,u){var b;return b="c"=="abbc"[p](/(b)*/)[1]||4!="test"[p](/(?:)/,-1)[g]||2!="ab"[p](/(?:ab)*/)[g]||4!="."[p](/(.?)(.?)/)[g]||"."[p](/()()/)[g]>1||""[p](/.?/)[g]?function(e,t){var a=String(this);if(void 0===e&&0===t)return[];if(!n(e))return r.call(a,e,t);var i,o,l,s=[],u=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),f=0,p=void 0===t?m:t>>>0,v=new RegExp(e.source,u+"g");while(i=c.call(v,a)){if(o=v[h],o>f&&(s.push(a.slice(f,i.index)),i[g]>1&&i.index<a[g]&&d.apply(s,i.slice(1)),l=i[0][g],f=o,s[g]>=p))break;v[h]===i.index&&v[h]++}return f===a[g]?!l&&v.test("")||s.push(""):s.push(a.slice(f)),s[g]>p?s.slice(0,p):s}:"0"[p](void 0,0)[g]?function(e,t){return void 0===e&&0===t?[]:r.call(this,e,t)}:r,[function(r,n){var a=e(this),i=void 0==r?void 0:r[t];return void 0!==i?i.call(r,a,n):b.call(String(a),r,n)},function(e,t){var n=u(b,e,this,t,b!==r);if(n.done)return n.value;var c=a(e),d=String(this),p=i(c,RegExp),g=c.unicode,h=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(v?"y":"g"),y=new p(v?c:"^(?:"+c.source+")",h),x=void 0===t?m:t>>>0;if(0===x)return[];if(0===d.length)return null===s(y,d)?[d]:[];var w=0,S=0,_=[];while(S<d.length){y.lastIndex=v?S:0;var k,$=s(y,v?d:d.slice(S));if(null===$||(k=f(l(y.lastIndex+(v?0:S)),d.length))===w)S=o(d,S,g);else{if(_.push(d.slice(w,S)),_.length===x)return _;for(var D=1;D<=$.length-1;D++)if(_.push($[D]),_.length===x)return _;S=w=k}}return _.push(d.slice(w)),_}]}))},"2e08":function(e,t,r){var n=r("9def"),a=r("9744"),i=r("be13");e.exports=function(e,t,r,o){var l=String(i(e)),s=l.length,c=void 0===r?" ":String(r),u=n(t);if(u<=s||""==c)return l;var f=u-s,d=a.call(c,Math.ceil(f/c.length));return d.length>f&&(d=d.slice(0,f)),o?d+l:l+d}},3846:function(e,t,r){r("9e1e")&&"g"!=/./g.flags&&r("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:r("0bfb")})},"3b87":function(e,t,r){},"4bb1":function(e,t,r){"use strict";r("6f29")},"520a":function(e,t,r){"use strict";var n=r("0bfb"),a=RegExp.prototype.exec,i=String.prototype.replace,o=a,l="lastIndex",s=function(){var e=/a/,t=/b*/g;return a.call(e,"a"),a.call(t,"a"),0!==e[l]||0!==t[l]}(),c=void 0!==/()??/.exec("")[1],u=s||c;u&&(o=function(e){var t,r,o,u,f=this;return c&&(r=new RegExp("^"+f.source+"$(?!\\s)",n.call(f))),s&&(t=f[l]),o=a.call(f,e),s&&o&&(f[l]=f.global?o.index+o[0].length:t),c&&o&&o.length>1&&i.call(o[0],r,(function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(o[u]=void 0)})),o}),e.exports=o},"53ca":function(e,t,r){"use strict";function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r.d(t,"a",(function(){return n}))},"5f1b":function(e,t,r){"use strict";var n=r("23c6"),a=RegExp.prototype.exec;e.exports=function(e,t){var r=e.exec;if("function"===typeof r){var i=r.call(e,t);if("object"!==typeof i)throw new TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==n(e))throw new TypeError("RegExp#exec called on incompatible receiver");return a.call(e,t)}},"6b54":function(e,t,r){"use strict";r("3846");var n=r("cb7c"),a=r("0bfb"),i=r("9e1e"),o="toString",l=/./[o],s=function(e){r("2aba")(RegExp.prototype,o,e,!0)};r("79e5")((function(){return"/a/b"!=l.call({source:"a",flags:"b"})}))?s((function(){var e=n(this);return"/".concat(e.source,"/","flags"in e?e.flags:!i&&e instanceof RegExp?a.call(e):void 0)})):l.name!=o&&s((function(){return l.call(this)}))},"6f29":function(e,t,r){},"7bae":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"users-list main-content"},[r("div",{staticClass:"screen-box"},[r("div",{staticClass:"screen-item"},[r("el-input",{staticStyle:{width:"220px"},attrs:{size:"small",placeholder:"请输入关键词",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.fetchData(t)}},model:{value:e.keywords,callback:function(t){e.keywords=t},expression:"keywords"}}),e._v(" "),r("el-button",{attrs:{size:"small",icon:"el-icon-search",type:"primary"},nativeOn:{click:function(t){return e.fetchData(t)}}},[e._v("搜索")])],1),e._v(" "),r("div",{staticClass:"operation"},[r("el-button",{attrs:{size:"small",icon:"el-icon-plus",type:"primary"},on:{click:function(t){return e.showDialog("add")}}},[e._v("新增")])],1)]),e._v(" "),r("div",{staticClass:"content"},[r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.load,expression:"load"}],attrs:{data:e.usersList,fit:"","highlight-current-row":"","tooltip-effect":"dark"}},[r("el-table-column",{attrs:{label:"序号",align:"center",type:"index"}}),e._v(" "),r("el-table-column",{attrs:{label:"用户头像/姓名",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){return[r("img",{attrs:{src:e.row.avator,width:"60",height:"60",alt:""}})]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"realname",label:"真实姓名",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{prop:"username",label:"账号",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{prop:"phone",label:"手机号",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{prop:"createTime",label:"创建时间",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e._f("timeFormat")(t.row.createTime))+"\n        ")]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"updateTime",label:"更新时间",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e._f("timeFormat")(t.row.updateTime))+"\n        ")]}}])}),e._v(" "),r("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"primary",size:"mini"},nativeOn:{click:function(r){return e.showDialog("edit",t.row)}}},[e._v("修改")]),e._v(" "),r("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(r){return e.handleDelete(t.row._id)}}},[e._v("删除")])]}}])})],1),e._v(" "),r("div",{staticClass:"pagination-box"},[r("el-pagination",{attrs:{total:e.total,"current-page":e.currentPage,"page-sizes":[5,10,50,100],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),e._v(" "),r("el-dialog",{attrs:{center:"",title:"add"==e.dialogType?"新增用户":"edit"==e.dialogType?"编辑用户":"用户详情",visible:e.dialogFormVisible,width:"40%"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[r("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"120px","label-position":"right",size:"small"}},[r("el-form-item",{attrs:{label:"头像",prop:"avator"}},[r("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入头像url"},model:{value:e.form.avator,callback:function(t){e.$set(e.form,"avator",t)},expression:"form.avator"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"用户名",prop:"username"}},[r("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入用户名"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"手机号",prop:"phone"}},[r("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入手机号"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"真实姓名",prop:"realname"}},[r("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入真实姓名"},model:{value:e.form.realname,callback:function(t){e.$set(e.form,"realname",t)},expression:"form.realname"}})],1),e._v(" "),"add"===e.dialogType?r("el-form-item",{attrs:{label:"密码",prop:"password"}},[r("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入密码",type:"password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1):e._e(),e._v(" "),r("el-form-item",["detail"!==e.dialogType?r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("保存")]):e._e(),e._v(" "),r("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("关闭")])],1)],1)],1)],1)},a=[],i=r("b775");function o(e){return Object(i["a"])({url:"/admin-api/users/list",method:"get",params:e})}function l(e){return Object(i["a"])({url:"/admin-api/users/",method:"post",data:e})}function s(e){return Object(i["a"])({url:"/admin-api/users/",method:"put",data:e})}function c(e){return Object(i["a"])({url:"/admin-api/users/",method:"delete",params:e})}var u=r("61f7"),f=r("5f87"),d=r("ed08"),p={filters:{statusFilter:function(e){var t={0:"danger",1:"success"};return t[e]},timeFormat:function(e){return Object(d["b"])(new Date(e))}},data:function(){var e=this,t=function(e,t,r){Object(u["b"])(t)?r():r(new Error("手机号不正确"))},r=function(t,r,n){"add"===e.dialogType&&""===e.form.password?n(new Error("请输入密码")):n()};return{load:!0,keywords:"",baseUrl:"http://212.129.244.20:3000",usersList:[],fileList:[{name:"image",url:""}],token:Object(f["a"])(),dialogFormVisible:!1,form:{username:"",password:"",phone:"",realname:"",avator:""},imageUrl:"",pageSize:10,currentPage:1,total:0,rules:{username:[{required:!0,message:"请填写用户姓名",trigger:"blur"}],realname:[{required:!0,message:"请填写真实姓名",trigger:"blur"}],avator:[{required:!0,message:"请上传头像",trigger:"blur"}],phone:[{required:!0,trigger:"blur",validator:t}],password:[{trigger:"blur",validator:r}]},dialogType:"add"}},watch:{dialogFormVisible:function(e){!1===e&&(this.$refs["form"].resetFields(),this.form={username:"",realname:"",password:"",phone:"",avator:""},this.imageUrl="")}},mounted:function(){this.fetchData()},methods:{fetchData:function(){var e=this;o({keywords:this.keywords,pageSize:this.pageSize,currentPage:this.currentPage}).then((function(t){e.load=!1,e.usersList=t.data.list,e.total=t.data.count}))},showDialog:function(e,t){this.dialogType=e,this.dialogFormVisible=!0,t&&(this.form=JSON.parse(JSON.stringify(t)))},onSubmit:function(e){var t=this,r=this;r.$refs[e].validate((function(e){if(!e)return!1;t.form._id?s(r.form).then((function(e){200===e.code?(t.$message({type:"success",message:e.msg||"修改成功!"}),t.dialogFormVisible=!1,t.fetchData()):t.$message.error(e.msg||"添加失败!")})):l(r.form).then((function(e){200===e.code?(t.$message({type:"success",message:e.msg||"添加成功!"}),t.dialogFormVisible=!1,t.fetchData()):t.$message.error(e.msg||"添加失败!")}))}))},handleAvatarSuccess:function(e,t){this.imageUrl=URL.createObjectURL(t.raw),this.form.avator=e.data},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type||"image/png"===e.type,r=e.size/1024/1024<2;return t||this.$message.error("上传头像图片只能是 JPG/PNG 格式!"),r||this.$message.error("上传头像图片大小不能超过 2MB!"),t&&r},handleCurrentChange:function(e){this.currentPage=e,this.fetchData()},handleSizeChange:function(e){this.pageSize=e,this.fetchData()},handleDelete:function(e){var t=this;this.$confirm("是否删除该用户账号?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",confirmButtonClass:"danger"}).then((function(){c({_id:e}).then((function(e){t.$message({type:"success",message:"删除成功!"}),1===t.usersList.length&&(t.currentPage=1),t.fetchData()}))}))}}},g=p,h=(r("4bb1"),r("1fad"),r("2877")),m=Object(h["a"])(g,n,a,!1,null,"7ca0b185",null);t["default"]=m.exports},9744:function(e,t,r){"use strict";var n=r("4588"),a=r("be13");e.exports=function(e){var t=String(a(this)),r="",i=n(e);if(i<0||i==1/0)throw RangeError("Count can't be negative");for(;i>0;(i>>>=1)&&(t+=t))1&i&&(r+=t);return r}},a481:function(e,t,r){"use strict";var n=r("cb7c"),a=r("4bf8"),i=r("9def"),o=r("4588"),l=r("0390"),s=r("5f1b"),c=Math.max,u=Math.min,f=Math.floor,d=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g,g=function(e){return void 0===e?e:String(e)};r("214f")("replace",2,(function(e,t,r,h){return[function(n,a){var i=e(this),o=void 0==n?void 0:n[t];return void 0!==o?o.call(n,i,a):r.call(String(i),n,a)},function(e,t){var a=h(r,e,this,t);if(a.done)return a.value;var f=n(e),d=String(this),p="function"===typeof t;p||(t=String(t));var v=f.global;if(v){var b=f.unicode;f.lastIndex=0}var y=[];while(1){var x=s(f,d);if(null===x)break;if(y.push(x),!v)break;var w=String(x[0]);""===w&&(f.lastIndex=l(d,i(f.lastIndex),b))}for(var S="",_=0,k=0;k<y.length;k++){x=y[k];for(var $=String(x[0]),D=c(u(o(x.index),d.length),0),E=[],C=1;C<x.length;C++)E.push(g(x[C]));var z=x.groups;if(p){var O=[$].concat(E,D,d);void 0!==z&&O.push(z);var R=String(t.apply(void 0,O))}else R=m($,d,D,E,z,t);D>=_&&(S+=d.slice(_,D)+R,_=D+$.length)}return S+d.slice(_)}];function m(e,t,n,i,o,l){var s=n+e.length,c=i.length,u=p;return void 0!==o&&(o=a(o),u=d),r.call(l,u,(function(r,a){var l;switch(a.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(s);case"<":l=o[a.slice(1,-1)];break;default:var u=+a;if(0===u)return r;if(u>c){var d=f(u/10);return 0===d?r:d<=c?void 0===i[d-1]?a.charAt(1):i[d-1]+a.charAt(1):r}l=i[u-1]}return void 0===l?"":l}))}}))},b0c5:function(e,t,r){"use strict";var n=r("520a");r("5ca1")({target:"RegExp",proto:!0,forced:n!==/./.exec},{exec:n})},ed08:function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"a",(function(){return o}));r("28a5"),r("f576"),r("a481"),r("6b54");var n=r("53ca");function a(e,t){if(0===arguments.length)return null;var r,a=t||"{y}-{m}-{d} {h}:{i}:{s}";"object"===Object(n["a"])(e)?r=e:("string"===typeof e&&/^[0-9]+$/.test(e)&&(e=parseInt(e)),"number"===typeof e&&10===e.toString().length&&(e*=1e3),r=new Date(e));var i={y:r.getFullYear(),m:r.getMonth()+1,d:r.getDate(),h:r.getHours(),i:r.getMinutes(),s:r.getSeconds(),a:r.getDay()},o=a.replace(/{([ymdhisa])+}/g,(function(e,t){var r=i[t];return"a"===t?["日","一","二","三","四","五","六"][r]:r.toString().padStart(2,"0")}));return o}function i(e,t){e=10===(""+e).length?1e3*parseInt(e):+e;var r=new Date(e),n=Date.now(),i=(n-r)/1e3;return i<30?"刚刚":i<3600?Math.ceil(i/60)+"分钟前":i<86400?Math.ceil(i/3600)+"小时前":i<172800?"1天前":t?a(e,t):r.getMonth()+1+"月"+r.getDate()+"日"+r.getHours()+"时"+r.getMinutes()+"分"}function o(e,t,r){var n,a,i,o,l,s=function s(){var c=+new Date-o;c<t&&c>0?n=setTimeout(s,t-c):(n=null,r||(l=e.apply(i,a),n||(i=a=null)))};return function(){for(var a=arguments.length,c=new Array(a),u=0;u<a;u++)c[u]=arguments[u];i=this,o=+new Date;var f=r&&!n;return n||(n=setTimeout(s,t)),f&&(l=e.apply(i,c),i=c=null),l}}},f576:function(e,t,r){"use strict";var n=r("5ca1"),a=r("2e08"),i=r("a25f"),o=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(i);n(n.P+n.F*o,"String",{padStart:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0,!0)}})}}]);